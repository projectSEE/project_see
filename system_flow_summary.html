<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SEE ‚Äî System Flow Summary</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap"
        rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: #111318;
            color: #c8cdd6;
            -webkit-font-smoothing: antialiased;
            overflow-x: hidden;
        }

        /* ===== HEXAGONAL MESH BACKGROUND ===== */
        .hex-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            opacity: 0.07;
            pointer-events: none;
        }

        .hex-bg svg {
            width: 100%;
            height: 100%;
        }

        .page-wrapper {
            position: relative;
            z-index: 1;
        }

        /* ===== DIAGRAM SECTION ===== */
        .diagram-section {
            padding: 60px 40px 50px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .diagram-title {
            font-size: 26px;
            font-weight: 800;
            color: #e8ecf4;
            margin-bottom: 8px;
            text-align: center;
            letter-spacing: 0.3px;
        }

        .diagram-subtitle {
            font-size: 13px;
            color: #6b7280;
            margin-bottom: 50px;
            text-align: center;
            font-weight: 500;
        }

        /* Hub-and-Spoke Layout */
        .hub-spoke {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0px;
            width: 100%;
            max-width: 1500px;
        }

        /* Spoke Columns (Left & Right) */
        .spoke-column {
            display: flex;
            flex-direction: column;
            gap: 14px;
            width: 220px;
            flex-shrink: 0;
        }

        .spoke-node {
            background: linear-gradient(135deg, #1a1e28 0%, #161a22 100%);
            border: 1px solid rgba(255, 255, 255, 0.07);
            border-radius: 10px;
            padding: 14px 16px;
            text-align: center;
            position: relative;
        }

        .spoke-node .node-icon {
            font-size: 18px;
            margin-bottom: 6px;
        }

        .spoke-node .node-title {
            font-size: 12.5px;
            font-weight: 700;
            color: #dce0e8;
            margin-bottom: 3px;
        }

        .spoke-node .node-detail {
            font-size: 10.5px;
            color: #6b7280;
            font-weight: 400;
            line-height: 1.4;
        }

        /* Connector Lines */
        .connector-col {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            width: 80px;
            flex-shrink: 0;
            gap: 14px;
        }

        .flow-line {
            height: 2px;
            width: 100%;
            position: relative;
            display: flex;
            align-items: center;
        }

        .flow-line::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, transparent 0%, #38bdf8 30%, #38bdf8 70%, transparent 100%);
            box-shadow: 0 0 8px rgba(56, 189, 248, 0.5), 0 0 20px rgba(56, 189, 248, 0.2);
        }

        .flow-line-right::before {
            background: linear-gradient(90deg, transparent 0%, #38bdf8 30%, #38bdf8 70%, transparent 100%);
        }

        .flow-line .arrow-tip {
            position: absolute;
            right: -2px;
            width: 0;
            height: 0;
            border-top: 5px solid transparent;
            border-bottom: 5px solid transparent;
            border-left: 7px solid #38bdf8;
            filter: drop-shadow(0 0 4px rgba(56, 189, 248, 0.6));
        }

        .flow-line-left .arrow-tip {
            right: auto;
            left: -2px;
            border-left: none;
            border-right: 7px solid #38bdf8;
        }

        /* Central Hub */
        .central-hub {
            width: 320px;
            flex-shrink: 0;
            position: relative;
        }

        .hub-outer {
            background: linear-gradient(145deg, #2a2410 0%, #1f1c0e 50%, #2a2410 100%);
            border: 2px solid rgba(250, 204, 21, 0.45);
            border-radius: 18px;
            padding: 30px 24px;
            position: relative;
            box-shadow:
                0 0 40px rgba(250, 204, 21, 0.08),
                0 0 80px rgba(250, 204, 21, 0.04),
                inset 0 1px 0 rgba(250, 204, 21, 0.15);
        }

        .hub-glow {
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            border-radius: 20px;
            background: transparent;
            border: 1px solid rgba(250, 204, 21, 0.08);
            z-index: -1;
        }

        .hub-header {
            text-align: center;
            margin-bottom: 22px;
        }

        .hub-label {
            font-size: 11px;
            font-weight: 700;
            letter-spacing: 2px;
            text-transform: uppercase;
            color: #facc15;
            margin-bottom: 4px;
        }

        .hub-name {
            font-size: 20px;
            font-weight: 800;
            color: #fde68a;
        }

        .hub-screens {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 8px;
        }

        .hub-screen {
            background: rgba(250, 204, 21, 0.06);
            border: 1px solid rgba(250, 204, 21, 0.15);
            border-radius: 8px;
            padding: 10px 8px;
            text-align: center;
            font-size: 11px;
            font-weight: 600;
            color: #fde68a;
            line-height: 1.35;
        }

        .hub-screen.full-width {
            grid-column: 1 / -1;
        }

        /* Sub-hubs (Yellow secondary nodes) */
        .sub-hub {
            background: linear-gradient(135deg, #262010 0%, #1e1a0c 100%);
            border: 1.5px solid rgba(250, 204, 21, 0.3);
            box-shadow: 0 0 20px rgba(250, 204, 21, 0.06);
        }

        .sub-hub .node-title {
            color: #fde68a;
        }

        .sub-hub .node-detail {
            color: #a39460;
        }

        /* Service nodes with accent colors */
        .node-ai {
            border-color: rgba(161, 66, 244, 0.25);
            box-shadow: 0 0 12px rgba(161, 66, 244, 0.05);
        }

        .node-ai .node-title {
            color: #c58af9;
        }

        .node-cloud {
            border-color: rgba(52, 168, 83, 0.25);
            box-shadow: 0 0 12px rgba(52, 168, 83, 0.05);
        }

        .node-cloud .node-title {
            color: #6fcf97;
        }

        .node-input {
            border-color: rgba(56, 189, 248, 0.2);
            box-shadow: 0 0 12px rgba(56, 189, 248, 0.04);
        }

        .node-input .node-title {
            color: #7dd3fc;
        }

        .node-output {
            border-color: rgba(248, 113, 113, 0.2);
            box-shadow: 0 0 12px rgba(248, 113, 113, 0.04);
        }

        .node-output .node-title {
            color: #fca5a5;
        }

        /* ===== FLOW LABELS ===== */
        .flow-label-area {
            display: flex;
            justify-content: space-between;
            width: 100%;
            max-width: 1500px;
            margin-top: 30px;
            padding: 0 20px;
        }

        .flow-label {
            font-size: 10px;
            font-weight: 700;
            letter-spacing: 2px;
            text-transform: uppercase;
            color: #4b5563;
            text-align: center;
            flex: 1;
        }

        .flow-label.left {
            text-align: left;
        }

        .flow-label.right {
            text-align: right;
        }

        /* ===== SUMMARY SECTION ===== */
        .summary-section {
            padding: 40px 60px 80px;
            max-width: 1100px;
            margin: 0 auto;
        }

        .summary-divider {
            width: 100%;
            height: 1px;
            background: linear-gradient(90deg, transparent 0%, rgba(56, 189, 248, 0.3) 50%, transparent 100%);
            margin-bottom: 50px;
        }

        .summary-title {
            font-size: 22px;
            font-weight: 800;
            color: #e8ecf4;
            margin-bottom: 28px;
        }

        .summary-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .summary-card {
            background: linear-gradient(145deg, #1a1e28 0%, #14171f 100%);
            border: 1px solid rgba(255, 255, 255, 0.06);
            border-radius: 12px;
            padding: 24px;
        }

        .summary-card-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 12px;
        }

        .summary-card-icon {
            width: 32px;
            height: 32px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            flex-shrink: 0;
        }

        .summary-card-title {
            font-size: 14px;
            font-weight: 700;
            color: #dce0e8;
        }

        .summary-card p {
            font-size: 12.5px;
            line-height: 1.7;
            color: #9ca3af;
        }

        .summary-card.full-width {
            grid-column: 1 / -1;
        }

        .icon-blue {
            background: rgba(56, 189, 248, 0.12);
            color: #38bdf8;
        }

        .icon-yellow {
            background: rgba(250, 204, 21, 0.12);
            color: #facc15;
        }

        .icon-purple {
            background: rgba(161, 66, 244, 0.12);
            color: #a855f7;
        }

        .icon-green {
            background: rgba(52, 168, 83, 0.12);
            color: #34a853;
        }

        .icon-red {
            background: rgba(248, 113, 113, 0.12);
            color: #f87171;
        }

        .icon-teal {
            background: rgba(45, 212, 191, 0.12);
            color: #2dd4bf;
        }

        /* Key stats bar */
        .stats-bar {
            display: flex;
            justify-content: center;
            gap: 40px;
            margin-bottom: 40px;
            padding: 20px;
            background: linear-gradient(145deg, #1a1e28 0%, #14171f 100%);
            border: 1px solid rgba(255, 255, 255, 0.05);
            border-radius: 12px;
        }

        .stat-item {
            text-align: center;
        }

        .stat-value {
            font-size: 24px;
            font-weight: 800;
            color: #38bdf8;
        }

        .stat-value.yellow {
            color: #facc15;
        }

        .stat-value.purple {
            color: #a855f7;
        }

        .stat-value.green {
            color: #34a853;
        }

        .stat-label {
            font-size: 10.5px;
            font-weight: 600;
            letter-spacing: 0.5px;
            color: #6b7280;
            margin-top: 2px;
        }
    </style>
</head>

<body>

    <!-- Hexagonal mesh background -->
    <div class="hex-bg">
        <svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%">
            <defs>
                <pattern id="hex" width="56" height="100" patternUnits="userSpaceOnUse" patternTransform="scale(1.2)">
                    <path d="M28 66L0 50L0 16L28 0L56 16L56 50L28 66L28 100" fill="none" stroke="#38bdf8"
                        stroke-width="0.5" />
                    <path d="M28 0L28 -34L0 -50L-28 -34L-28 0L0 16" fill="none" stroke="#38bdf8" stroke-width="0.5" />
                </pattern>
            </defs>
            <rect width="100%" height="100%" fill="url(#hex)" />
        </svg>
    </div>

    <div class="page-wrapper">

        <!-- ===== DIAGRAM ===== -->
        <div class="diagram-section">
            <div class="diagram-title">SEE ‚Äî System Data Flow Overview</div>
            <div class="diagram-subtitle">Hub-and-Spoke Model ¬∑ Input ‚Üí Processing ‚Üí Services ‚Üí Output</div>

            <div class="hub-spoke">

                <!-- LEFT SPOKES: Inputs -->
                <div class="spoke-column">
                    <div class="spoke-node node-input">
                        <div class="node-icon">üì∑</div>
                        <div class="node-title">Camera</div>
                        <div class="node-detail">YUV420 frames at native FPS<br>‚Üí NV21 / RGB / JPEG pipelines</div>
                    </div>
                    <div class="spoke-node node-input">
                        <div class="node-icon">üéôÔ∏è</div>
                        <div class="node-title">Microphone</div>
                        <div class="node-detail">PCM16, 16 kHz, mono<br>Hardware AEC enabled</div>
                    </div>
                    <div class="spoke-node node-input">
                        <div class="node-icon">üì°</div>
                        <div class="node-title">Accelerometer</div>
                        <div class="node-detail">Free-fall (&lt;1.5g) + impact (&gt;20g)<br>within 500 ms window</div>
                    </div>
                    <div class="spoke-node node-input">
                        <div class="node-icon">üìç</div>
                        <div class="node-title">GPS / Location</div>
                        <div class="node-detail">5 m distance filter<br>15 s timeout fallback</div>
                    </div>
                </div>

                <!-- Left Connectors -->
                <div class="connector-col">
                    <div class="flow-line">
                        <div class="arrow-tip"></div>
                    </div>
                    <div class="flow-line">
                        <div class="arrow-tip"></div>
                    </div>
                    <div class="flow-line">
                        <div class="arrow-tip"></div>
                    </div>
                    <div class="flow-line">
                        <div class="arrow-tip"></div>
                    </div>
                </div>

                <!-- CENTRAL HUB -->
                <div class="central-hub">
                    <div class="hub-outer">
                        <div class="hub-glow"></div>
                        <div class="hub-header">
                            <div class="hub-label">Central Hub</div>
                            <div class="hub-name">Flutter App</div>
                        </div>
                        <div class="hub-screens">
                            <div class="hub-screen">üîç<br>Object<br>Detection</div>
                            <div class="hub-screen">üëÅÔ∏è<br>Live Vision<br>Assistant</div>
                            <div class="hub-screen">üí¨<br>AI Chatbot</div>
                            <div class="hub-screen">üß≠<br>Navigation</div>
                            <div class="hub-screen full-width">üõ°Ô∏è Fall Detection &amp; Emergency SOS</div>
                        </div>
                    </div>
                </div>

                <!-- Right Connectors -->
                <div class="connector-col">
                    <div class="flow-line flow-line-right">
                        <div class="arrow-tip"></div>
                    </div>
                    <div class="flow-line flow-line-right">
                        <div class="arrow-tip"></div>
                    </div>
                    <div class="flow-line flow-line-right">
                        <div class="arrow-tip"></div>
                    </div>
                    <div class="flow-line flow-line-right">
                        <div class="arrow-tip"></div>
                    </div>
                    <div class="flow-line flow-line-right">
                        <div class="arrow-tip"></div>
                    </div>
                </div>

                <!-- RIGHT SPOKES: Services & Outputs -->
                <div class="spoke-column">
                    <div class="spoke-node sub-hub">
                        <div class="node-icon">üß†</div>
                        <div class="node-title">On-Device ML</div>
                        <div class="node-detail">ML Kit Object Detection<br>Depth Anything V2 (ONNX 252¬≤)</div>
                    </div>
                    <div class="spoke-node node-ai">
                        <div class="node-icon">‚ú®</div>
                        <div class="node-title">Gemini 2.5 Flash</div>
                        <div class="node-detail">Chat + Vision (text/image)<br>Live API (real-time AV stream)</div>
                    </div>
                    <div class="spoke-node node-cloud">
                        <div class="node-icon">‚òÅÔ∏è</div>
                        <div class="node-title">Google Cloud</div>
                        <div class="node-detail">Firebase Auth ¬∑ Firestore<br>Maps &amp; Places API</div>
                    </div>
                    <div class="spoke-node node-output">
                        <div class="node-icon">üîä</div>
                        <div class="node-title">Audio Output</div>
                        <div class="node-detail">TTS (obstacle announce 3 s)<br>Native AudioTrack 24 kHz</div>
                    </div>
                    <div class="spoke-node node-output">
                        <div class="node-icon">üì≥</div>
                        <div class="node-title">Haptic Feedback</div>
                        <div class="node-detail">3-tier vibration by proximity<br>Intensity boost on approach</div>
                    </div>
                </div>

            </div>

            <!-- Flow Labels -->
            <div class="flow-label-area">
                <div class="flow-label left">‚Üê Hardware Inputs</div>
                <div class="flow-label">Processing &amp; Routing</div>
                <div class="flow-label right">Services &amp; Outputs ‚Üí</div>
            </div>
        </div>

        <!-- ===== SUMMARY ===== -->
        <div class="summary-section">
            <div class="summary-divider"></div>

            <div class="diagram-title" style="margin-bottom: 24px;">Executive Summary</div>

            <!-- Key Stats -->
            <div class="stats-bar">
                <div class="stat-item">
                    <div class="stat-value">5</div>
                    <div class="stat-label">Core Screens</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value yellow">2</div>
                    <div class="stat-label">On-Device Models</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value purple">2</div>
                    <div class="stat-label">Gemini AI Modes</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value green">3</div>
                    <div class="stat-label">Cloud Services</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value">35</div>
                    <div class="stat-label">Dart Source Files</div>
                </div>
            </div>

            <div class="summary-grid">

                <div class="summary-card">
                    <div class="summary-card-header">
                        <div class="summary-card-icon icon-blue">üì∑</div>
                        <div class="summary-card-title">Camera &amp; Sensor Pipeline</div>
                    </div>
                    <p>Camera frames (YUV420) are consumed by two parallel pipelines: <strong>ML Kit</strong> processes
                        every frame for object detection via NV21 conversion, while <strong>Depth Anything V2</strong>
                        runs ONNX inference on RGB frames resized to 252√ó252 at ~3 FPS. A third branch samples 1
                        frame/sec as JPEG (via native Kotlin MethodChannel at quality 40) for the Gemini Live API video
                        stream.</p>
                </div>

                <div class="summary-card">
                    <div class="summary-card-header">
                        <div class="summary-card-icon icon-purple">‚ú®</div>
                        <div class="summary-card-title">Gemini AI Integration</div>
                    </div>
                    <p><strong>Chat mode</strong> uses Gemini 2.5 Flash for text/image queries with Firestore context
                        injection and automatic POI extraction via brace-counting JSON parsing. <strong>Live
                            mode</strong> streams bidirectional audio (16 kHz up / 24 kHz down) and video over WebSocket
                        with custom VAD configuration, barge-in support (AudioTrack flush), and non-verbal earcon cues
                        for blind users.</p>
                </div>

                <div class="summary-card">
                    <div class="summary-card-header">
                        <div class="summary-card-icon icon-red">üõ°Ô∏è</div>
                        <div class="summary-card-title">Fall Detection &amp; Emergency</div>
                    </div>
                    <p>Accelerometer data is continuously monitored for a two-phase pattern: free-fall (magnitude
                        &lt;1.5g) followed by impact (&gt;20g) within 500 ms. Detection triggers a siren, vibration
                        pattern, and a 10-second countdown dialog. If not cancelled, the app auto-dials the emergency
                        contact and uploads feedback to Firestore.</p>
                </div>

                <div class="summary-card">
                    <div class="summary-card-header">
                        <div class="summary-card-icon icon-green">üß≠</div>
                        <div class="summary-card-title">Navigation &amp; Location</div>
                    </div>
                    <p>Google Directions API provides walking routes parsed into step-by-step instructions. Live
                        position tracking (5 m filter) auto-advances steps when within 10 m of each waypoint. Explore
                        mode queries the Places API (New) within 100 m to announce nearby POIs via TTS, with a 50-entry
                        deduplication set and 5-second cooldown.</p>
                </div>

                <div class="summary-card">
                    <div class="summary-card-header">
                        <div class="summary-card-icon icon-yellow">‚ö°</div>
                        <div class="summary-card-title">Output &amp; Accessibility</div>
                    </div>
                    <p>Obstacle proximity drives a 3-tier haptic feedback system (light/medium/heavy impact) with a 300
                        ms throttle and 0.2 intensity boost for approaching objects. TTS announces the closest obstacle
                        every 3 seconds with 2-second duplicate suppression. Audio output routes through the loudspeaker
                        with echo cancellation for simultaneous AI speech and microphone input.</p>
                </div>

                <div class="summary-card">
                    <div class="summary-card-header">
                        <div class="summary-card-icon icon-teal">üîß</div>
                        <div class="summary-card-title">Resilience &amp; Error Handling</div>
                    </div>
                    <p>The system implements multi-layer fallbacks: Places API (New) ‚Üí legacy endpoint; custom VAD ‚Üí SDK
                        fallback; stream-mode detection ‚Üí file-based after 100 failures; location ‚Üí last known position
                        after 15 s timeout. TTS initialisation retries 5 times with progressive delays. Lifecycle
                        observers pause all streams on <code>inactive</code> and reinitialise on <code>resumed</code>.
                    </p>
                </div>

            </div>
        </div>
    </div>

</body>

</html>